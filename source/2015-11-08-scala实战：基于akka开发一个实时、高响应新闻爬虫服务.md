title: Scala实战：基于Akka开发一个实时、高响应新闻爬虫服务
date: 2015-11-08 14:39:57
categories: scala
tags:
- akka
- akka http
- cassandra
- crawler
---

# 背景

项目要做一个舆情监控模块，需要通过“关键词”从网上检索相关新闻。简单梳理，有以下需求：

1. 根据“关键词”实时检索线上新闻
2. 新闻数据应该每天更新
3. 要返回新闻标题、时间、发布源、摘要、内容

# 功能

细化需求后，整理出功能点：

1. 第一步通过百度新闻，只抓取搜索首页数据
2. 抽取首页列表，根据URL再抓取每篇新闻详细
3. 数据应缓存，当天多次重复从缓存数据返回，不需要再网上重要抓取
4. 高并发、高相应，添加更多新闻源应保证差不多相同时间内返回数据（可水平添加不同的新闻源）
5. 系统应提供一个REST API来提供新闻检索功能

# 设计

## 使用actor模型构建新闻抓取业务

**Actor**

Actor模型为编写并发和分布式系统提供了一种更高的抽象级别。它将开发人员从显式地处理锁和线程管理的工作中解脱出来，使编写并发和并行系统更加容易。Actor模型是在1973年Carl Hewitt的论文中提的，但是被Erlang语言采用后才变得流行起来，一个成功案例是爱立信使用Erlang非常成功地创建了高并发的可靠的电信系统。

而对于`Akka`来说，成功案例就更多了：Spark、Kafka

NewsMaster
